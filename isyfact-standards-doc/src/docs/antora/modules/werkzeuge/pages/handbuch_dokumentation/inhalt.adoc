= Handbuch für technische Autoren: Inhalt

// tag::inhalt[]
[[aufbau-der-dokumentation]]
== Architektur der Dokumentation

Die Architektur der IsyFact-Dokumentation besteht aus zwei Kernbestandteilen:

. Zentrale Dokumentation (bis IsyFact 2.4.x isy-documentation, ab IsyFact 2.5.0 isyfact-standards-doc)
. Bausteindokumentation

Die zentrale Dokumentation wurde ab IsyFact 2.5.0 verschoben in das Repository isyfact-standards im Zuge der Migration der Dokumentation zum Code.

// tag::important[]
[IMPORTANT]
====
Die Dokumentation in isy-documentation wird mit Hilfe der AsciidoctorJ Extensions als PDF- und HTML generiert.
Dieses Handbuch beschreibt die Generierung und die Vorbereitung dafür.
Wenn die Generierung von PDF unverzichtbar ist, muss die Dokumentation per AsciidoctorJ Extensions erstellt werden.
====

// end::important[]

// tag::important[]
[IMPORTANT]
====
Die Dokumentation in isyfact-standards-doc wird mit Hilfe von Antora als HTML generiert.
Eine andere Version des Handbuchs beschreibt die Generierung und Vorbereitung dafür.
Es wird empfohlen, für die Dokumentengenerierung Antora zu verwenden.
====

// end::important[]

Im Folgenden werden die Bestandteile erläutert.


[[zentrale-dokumentation]]
=== Zentrale Dokumentation

Die zentrale Dokumentation bietet Informationen, Nutzungsvorgaben und Anleitungen zu zentralen Themen der IsyFact.
Dazu zählt der Einstieg, das Whitepaper oder auch das Tutorial.

[[baustein-dokumentation]]
=== Bausteindokumentation

Jeder Baustein der IsyFact enthält eine eigene Dokumentation.
Hierzu gehören die Nutzungsvorgaben zur Verwendung des Bausteins und das zugrundeliegende Konzept.
Die Nutzungsvorgaben richten sich in erster Linie an Entwickler, die die IsyFact nutzen.
Das Konzept richtet sich an Architekten und Entwickler, die die IsyFact weiterentwickeln.
Wird ein neuer Baustein angelegt, so muss auch eine entsprechende Dokumentation erstellt werden.
Die Dokumentation des Bausteins ist als Verzeichnis mit Asciidoc-Dateien im Baustein immer unter `src/docs` abgelegt.

[[die-arbeitsumgebung-einrichten]]
== Die Arbeitsumgebung einrichten

[[git-installieren]]
=== Git installieren

Git wird von der Webseite xref:glossary:literaturextern:inhalt.adoc#litextern-Git[Git] heruntergeladen.

.Webseite des Versionierungssystems Git
[id="image-git1",reftext="{figure-caption} {counter:figures}"]
image::handbuch/git1.png[align="center",scaledwidth=80%]

Weil das Git-Repository auf einem Unix-basierten Betriebssystem installiert ist, technische Autoren aber eventuell auf einem Windows-Betriebssystem arbeiten, besteht eine Diskrepanz bei den Zeilenumbrüchen.
Denn während Windows die Zeichen Carriage-Return (`'\r'`) und New-Line (`'\n'`) einsetzt, um das Zeilenende anzuzeigen, verwendet Unix lediglich ein New-Line (`'\n'`).
Um dieses Problem zu lösen, wird bei der Installation von Git folgendes Fenster mit drei Optionen angeboten.

.Optionen zur Behandlung von Zeilenumbrüchen
[id="image-git2",reftext="{figure-caption} {counter:figures}"]
image::handbuch/git2.png[align="center"]

Bei der ersten Option geht Git genau von der Konstellation aus, die auch bei der IsyFact-Dokumentation gebraucht wird.
Denn mit dieser Option ändert Git die heruntergeladenen Zeilenumbrüche zur Windows-Variante um.
Beim Hochladen wird hingegen zur Unix-Variante zurückgewandelt.
Sollten Sie lokal mit Windows arbeiten, selektieren Sie also die erste Option.

[[git-lfs-installieren]]
=== Git LFS installieren

Zur Ablage großer Dateien, wie z.B. Bildern, wird in einigen Repositories Git Large File Storage (LFS) verwendet.
Dabei werden die großen Dateien durch sehr kleine sogenannte "pointer files" ersetzt, die auf die echten Dateien verweisen.
Damit das funktioniert muss auch client-seitig Git LFS installiert sein.
Die Installation geht sehr einfach in wenigen Schritten und ist für Linux, Windows und Mac hier beschrieben: xref:glossary:literaturextern:inhalt.adoc#litextern-Git-LFS[Git LFS]

[[vsc-installieren]]
=== VS Code installieren

Die Installationsdatei von VS Code kann von xref:glossary:literaturextern:inhalt.adoc#litextern-VisualStudio[Visual Studio] heruntergeladen werden.
Alternativ kann auch ein anderer Texteditor verwendet werden, der AsciiDoc unterstützt, wie z.B. xref:glossary:literaturextern:inhalt.adoc#litextern-Atom[Atom] oder xref:glossary:literaturextern:inhalt.adoc#litextern-IntelliJ[IntelliJ].

Im Folgenden wird die Installation, Konfiguration und Nutzung von VS Code beschrieben.

.Webseite des Texteditors VS Code
[id="image-vs_code",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code.png[align="center",scaledwidth=80%]

Nach der Installation wird noch ein Plugin benötigt, um AsciiDoc-Dateien in Echtzeit im Texteditor zu rendern und eine Vorschau zu erzeugen.
Dazu VS Code starten und links am Rand des Editor auf den Menüpunkt für `Extensions` klicken (siehe  <<image-vs_code_plugin_suche>>).
Alternativ kann auch die Tastenkombination kbd:[Strg+Shift+X] gedrückt werden.
Anschließend in das Suchfeld "AsciiDoc" eingeben, um passende AsciiDoc-Plugins anzeigen zu lassen.

.Auswahl des AsciiDoc-Plugins
[id="image-vs_code_plugin_suche",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_plugin1.png[align="center",scaledwidth=80%]

Die Suche wird automatisch gestartet und listet zahlreiche AsciiDoc-Plugins auf.
Wir nutzen das Plugin `AsciiDoc` von João Pinto, da dies den größten Funktionsumfang bietet.
Für die Installation das Plugin in der Ergebnisliste auswählen und in der sich öffnenden Plugin-Beschreibung auf den Button `install` klicken (siehe <<image-vs_code_plugin_installation>>).
Das Plugin wird nun installiert.

.Installation des AsciiDoc-Plugins
[id="image-vs_code_plugin_installation",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_plugin2.png[align="center",scaledwidth=80%]

Nach der Installation wieder in den Explorer-Modus (siehe <<image-vs_code_plugin_explorer>>) wechseln.

.Wechsel in den Explorer-Modus
[id="image-vs_code_plugin_explorer",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_plugin3.png[align="center",scaledwidth=80%]

In xref::handbuch_dokumentation/inhalt.adoc#vsc-einsetzen[VS Code einsetzen] wird die Nutzung von VS Code erläutert.

[[maven-installieren]]
=== Maven installieren

Zum Erzeugen der PDF- und HTML-Dokumente wird Apache Maven benötigt.
Apache Maven kann unter xref:glossary:literaturextern:inhalt.adoc#litextern-Maven[Maven] heruntergeladen werden.
Das heruntergeladene Archiv muss in ein beliebiges Verzeichnis entpackt werden.

Anschließend gilt es noch die Pfad-Variable zu setzen:



*Windows*

Dazu in das Suchfeld im Startmenü `Systemumgebungsvariablen` eingeben und den Treffer `Systemumgebungsvariablen auswählen`.
Anschließend im sich öffnenden Fenster unten rechts auf `Umgebungsvariablen` klicken.
Es öffnet sich ein neues Fenster.
Unter `Benutzervariablen für [nutzer]` den Eintrag `PATH` auswählen und auf den Button `Bearbeiten` klicken.
Im sich öffnenden Fenster einen neuen Eintrag anlegen und den Pfad zum entpackten Maven Verzeichnis inkl `bin` angeben.
Beispiel: `C:\maven\bin`

Anschließend die Konsole neu starten und den Befehl `mvn -v` eingeben. Nun sollte die installierte Maven-Version angegeben werden.


*Linux*

In der Konsole den Pfad mit folgendem Befehl setzen:
[source,shell]
----
export PATH=/opt/apache-maven-3.6.2/bin:$PATH+
----
`/opt/apache-maven-3.6.2/bin` gibt den lokalen Pfad zum entpackten Maven-Verzeichnis an.

[[ein-neues-dokument-anlegen]]
== Ein neues Dokument anlegen

In diesem Kapitel wird jeweils für die <<zentrale-dokumentation>>, als auch für die <<baustein-dokumentation>> gezeigt, wie die erforderliche Verzeichnisstruktur aussieht und wie ein neues Dokument dort einsortiert wird.

[[neues-verzeichnis-zentrale-dokumentation-anlegen]]
=== Zentrale Dokumentation: Ein neues Verzeichnis anlegen

Die zentrale Dokumentation hat im Vergleich zur Bausteindokumentation eine erweiterte Verzeichnisstruktur.
Die zentrale Dokumentation der IsyFact-Standards gliedert sich nach den Säulen der IsyFact.

Allgemein;; Einstiegsdokumente, Tutorial, Konventionen
Blaupausen;; Grundlagendokumente und Detailkonzepte für Architektur und Anwendungslandschaft
Bausteine;; Dokumente für die jeweilig wiederverwendbaren Softwarelösungen
Methodik;; Methodische Dokumente bspw. zu Programmierkonventionen und Systemhandbuch und -entwurf
Werkzeuge;; Dokumente zur Verwendung von Werkzeugen und der Einrichtung der Entwicklungsumgebung (hierzu gehört auch dieses Dokument)

Ein neues IsyFact-Dokument muss unterhalb einer geeigneten Säule abgelegt werden.
Dazu wird unterhalb des Verzeichnisses, das die Säule repräsentiert, ein neues Verzeichnis
angelegt, dessen Name den Inhalt des Dokuments widerspiegelt.


[[neues-verzeichnis-bausteindokumentation-anlegen]]
=== Bausteindokumentation: Ein neues Verzeichnis anlegen

Soll für einen Baustein eine neue Dokumentation angelegt werden oder die bestehende Dokumentation um ein Dokument erweitert werden, so muss zunächst der geeignete Ort zur Ablage bestimmt werden.
I.d.R. ist dies das Repository, in dem sich der Baustein befindet, da die Dokumentation nah beim Code abgelegt werden soll.
Bis zur IsyFact 2.4.x befindet sich jedoch ein großer Teil der Bausteindokumentation im Repository isy-documentation.

Ab IsyFact 2.5.0 liegt dieser Teil der Bausteindokumentation im Repository isyfact-standards im Submodul isyfact-standards-doc.
Der Code dieser Bausteine befindet sich ebenfalls im Repository isyfact-standards, wodurch die Architekturregel "Dokumentation nah beim Code" erfüllt ist.

Zunächst muss der Baustein vom Git-Repository heruntergeladen werden.
Hierfür muss auf der Kommandozeile auf eine geeignete Stelle der lokalen Festplatte gewechselt werden und folgendes Kommando eingegeben werden.

====
C:\tmp\> *git clone* https://github.com/IsyFact/<Repository>

z.B. C:\tmp\> *git clone* https://github.com/IsyFact/isy-baustein
====

Bei <Repository> kann es sich um einen einzelnen Baustein handeln oder um ein Repository mit zentraler Dokumentation wie isy-documentation (bis IsyFact 2.4.x) oder isyfact-standards (ab IsyFact 2.5.0).

In einem Baustein wird die Dokumentation in einem eigenen Maven-Submodul unter dem Pfad `src/docs` abgelegt.

<<verzeichnisstruktur-baustein>> zeigt die Verzeichnisstruktur für die Dokumentation des fiktiven Bausteins `isy-baustein` zusammen mit den Asciidoc-Dateien für ein Dokument.

[[verzeichnisstruktur-baustein]]
.Verzeichnisse der Bausteindokumentation
----
📂 isy-baustein
  📂 isy-baustein-doc <1>
    📂 src
        📂 docs
            📂 Konzept <2>
                📄 anhaenge.adoc  <3>
                📄 inhalt.adoc    <4>
                📄 master.adoc    <5>
                📄 thisdoc.adoc   <6>
                📂 images <4>
            📂 Nutzungsvorgaben <2>
                📄 anhaenge.adoc
                📄 inhalt.adoc
                📄 master.adoc
                📄 thisdoc.adoc
                📂 images
----
<1> Maven-Submodul für die Dokumentation.
<2> Jeweils ein Dokument; bei Bausteinen findet sich häufig die Unterteilung in Konzept und Nutzungsvorgaben.
<3> Auflistung der Anhänge des IsyFact-Dokuments.
<4> Inhalte des IsyFact-Dokuments.
<5> Zentrale Datei, die alle anderen Dateien über spezielle Verweise (`include`) einbindet.
Eine vollständige Vorschau des IsyFact-Dokuments wird angezeigt, wenn die Datei `master.adoc` im Editor geöffnet und die Vorschaufunktion verwendet wird.
<6> Einleitendes Kapitel des IsyFact-Dokuments, das den Inhalt zusammenfasst sowie den Aufbau und Zweck des Dokuments erläutert.
<7> Bilder und Grafiken, die im neu zu erstellenden Dokument verwendet werden sollen.


[[vsc-einsetzen]]
=== VS Code einsetzen

Für die Bearbeitung der Dokumente öffnen Sie VS Code über das Startmenü.
Innerhalb von VS Code öffnen Sie im Hauptmenü unter menu:File[Open Folder] das neu erstellte oder ein bestehendes Verzeichnis.
Hierdurch öffnen Sie den Ordner Ihres IsyFact-Dokuments als VS Code Projekt.

.Den Ordner des IsyFact-Dokuments öffnen
[id="image-vs_code_projekt_oeffnen",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_projekt_oeffnen.png[align="center"]

Auf der linken Seite erscheint die Projektansicht mit dem Verzeichnis Ihres IsyFact-Dokuments.

Sie können sich nun bereits das Dokument in der Vorschau ansehen.
Hierfür öffnen Sie zunächst die zentrale Datei `master.adoc`.
Dann drücken Sie entweder kbd:[Strg + K] und anschließend kbd:[V] oder Sie klicken in der oberen rechten Ecke des Editors auf das Symbol mit der blauen Lupe.
Dabei sollte auf der rechten Seite die Vorschau erscheinen.

Die Vorschau dient lediglich einer groben Orientierung, da weder die Isyfact-Stylesheets für die Dokumente genutzt werden, noch die Skripte zur Erzeugung von Glossar, Inhaltsverzeichnis und Verlinkungen ausgeführt werden.
Ein vollständige gerenderte Ansicht wird erst durch den Maven-Build Vorgang erzeugt.
Dies ist später in diesem Dokument unter xref::handbuch_dokumentation/inhalt.adoc#asccidoc-zu-pdf-html[PDF- und HTML-Dokumente erzeugen] erläutert.

Im Folgenden wird mit dem Bearbeiten der Dokumentbestandteile fortgefahren.

[[dateien-bearbeiten]]
=== Dateien bearbeiten

Dieser Abschnitt beschreibt, welche Attribute und Inhalte in den Dateien angepasst werden können.

[[master.adoc-bearbeiten]]
==== master.adoc bearbeiten

Zunächst werden die Attribute `doctitle` und `document-type` gesetzt, aus denen ein einheitlicher Titel erzeugt wird, vgl. <<listing-master>>.

Dann wird die Vertraulichkeits-Einstufung `vs-einstufung` angegeben.
Dadurch wird ggf. ein Vertraulichkeitshinweis in das Dokument eingefügt und ggf. das Layout angepasst.
Die möglichen Werte für `vs-einstufung` finden sich in <<table-master-attributes>>.
Die `vs-einstufung` kann auch in der pom.xml als globales Attribut für alle zu generierenden Dokumente angegeben werden.
Ein Beispiel findet sich in <<listing-pom-asciidoc>>.

Daraufhin wird die Colophon-Angabe eingebunden.
Dadurch wird ein einheitlicher Abschnitt mit Metadaten des Dokuments und Lizenzbestimmungen erzeugt.
Dabei können noch die optionalen Attribute `factory` und `open-source` angegeben werden.
Sie sind in <<table-master-attributes>> näher beschrieben.

Weitere Erläuterungen zum Colophon Block finden sich im Abschnitt <<colophon-block>>.

.master.adoc
[id="listing-master",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,indent=0]
----
 :doctitle: Super tolles Feature
 :document-type: Konzept
 :vs-einstufung: offen

colophon::[factory="IsyFact-Erweiterungen", open-source="false"]

 // Wird normalerweise vom Maven-Plugin gesetzt
 // :revnumber: 1.0.5
 // :revdate: 2020-01-01

\include::thisdoc.adoc[tags=inhalt]

\include::inhalt.adoc[tags=inhalt]
----

NOTE: Die manuelle Vergabe von Revisionsnummer und -datum betrifft nur Dokumente, die nicht mit Hilfe des Maven-Plugins erzeugt werden.
Ansonsten werden diese Attribute über das Maven-Plugin bereitgestellt (siehe <<listing-pom-asciidoc>>).

<<table-master-attributes>> zeigt alle Attribute, die in der `master.adoc` Datei angepasst werden können.

.Attribute der master.adoc
[id="table-master-attributes",reftext="{table-caption} {counter:tables}"]
[cols="1,1,1,3,1",options="header"]
|===
|Attribut|Optional|Default|Beschreibung|Werte
|`doctitle`|Nein||Titel des Dokuments|
|`document-type`|Ja||Dokumententyp (z.B. Konzept), welcher als Untertitel angezeigt wird|
|`vs-einstufung`|Nein||Vertraulichkeits-Einstufung
a|
* open-source
* offen
* einstufung-fehlt
* vs-nfd
* vs-vertraulich
* geheim
* streng-geheim
|`colophon`|Nein|colophon::[]|Metadaten des Dokuments und Lizenzbestimmungen|
|`factory` als Attribut zu `colophon`|Ja|IsyFact-Standards|Definiert, ob das Dokument zu den IsyFact-Standards oder IsyFact-Erweiterungen gehört. Wählt das passende Logo und Deckblatt für die Factory.
a|
* IsyFact-Standards
* IsyFact-Erweiterungen
* Register Factory
|`open-source` als Attribut zu `colophon`|Ja|true|Beschreibt, ob das Dokument unter der Open Source (true) oder Closed Source (false) Lizenz der IsyFact veröffentlicht wird.|
|`revdate`|Nein||Release Datum des Bausteins oder Dokuments|
|`revnumber`|Nein||Versionsnummer des Bausteins oder Dokuments|
|===

Zuletzt werden die übrigen Asciidoc Dateien in master.adoc inkludiert.
Leere Dateien können ausgelassen werden.
Inkludiert wird der Inhaltsbereich innerhalb der Dateien, der mit

`// tag::inhalt[]`

Dateiinhalt

`// end::inhalt[]`

getaggt ist.


[[docinfo.adoc-bearbeiten]]
==== docinfo.adoc bearbeiten

Bezieht sich das zu erstellende Dokument auf einen Baustein (Bibliothek) der IsyFact, so ist dieser Baustein inklusive der Version in einer eigenen Datei docinfo.adoc anzugeben und in master.adoc zu inkludieren.
In <<listing-master-bib>> wird beispielsweise auf den Baustein `isy-web` verwiesen.

.docinfo.adoc - Angabe des zugehörigen Bausteins
[id="listing-master-bib",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,indent=0]
----
// Einbindung Bibliotheken, wenn nicht genutzt, entfernen
*Java Bibliothek / IT-System*

[cols="5,2,3",options="header"]
|====
|Name |Art |Version
|isy-web |Bibliothek |{version-ifs}
|====
----

In der Vorschau sollten die Änderungen unmittelbar erscheinen. Ihre Änderungen speichern Sie über kbd:[Strg + S].

[[thisdoc.adoc-bearbeiten]]
==== thisdoc.adoc bearbeiten

Die Datei `thisdoc.adoc` ist optional auszufüllen und sollte eine Einleitung in das Dokument bieten und den Aufbau und Zweck des Dokuments erläutern.
Diese Datei ist in der `master.adoc` integriert und wird beim Rendern in das Gesamtdokument eingefügt.

[[inhalt.adoc-bearbeiten]]
==== inhalt.adoc bearbeiten

In `inhalt.adoc` wird der eigentliche Inhalt des Dokuments verfasst.
Diese Datei wird in der `master.adoc` beim Rendern nach der Datei `thisdoc.adoc` geladen.

Im Folgenden wird die Inhaltserstellung erläutert.


war: ein Dokument bearbeiten
zuletzt IsyProcessor



[[vorgaben-changelog]]
== Zentralisiertes und automatisiertes Changelog

Jede Komponente eines Projekts und jedes Dokument erhalten eine eigene Changelog-Datei im AsciiDoc-Format (`.adoc`).
Diese Datei wird im Folgenden Komponentenchangelog genannt.
Dadurch können Änderungen nah am Änderungsort dokumentiert werden und Entwickler und Architekten können einzelne Einträge des Changelogs direkt einer Komponente oder einem Dokument zuordnen.
Damit jedoch auch alle Änderungen eines Projekts (Menge aller Komponenten/Dokumente) zentral in einem Dokument zusammengefasst können, wird eine weitere Changelog-Datei im root-Verzeichnis des Projekts angelegt.
Diese Changelog-Datei, im Folgenden Projektchangelog genannt, bindet die einzelnen Changelog-Dateien automatisch und nach Release gruppiert ein.
Auf diese Weise besitzt jedes Projekt ein zentrales Changelog und (je nach Projekt) mehrere dezentrale Komponentenchangelogs ohne die Einträge redundant verwalten zu müssen.

.Zusammenführung der einzelnen Komponentenchangelogs
[id="image-architektur_changelogs",reftext="{figure-caption} {counter:figures}"]
image::handbuch/architektur_changelog.png[align="center",scaledwidth=80%]

Zum Erstellen und Bearbeiten wird empfohlen, einen Texteditor zu verwenden, der das AsciiDoc Format unterstützt (siehe Kapitel <<vsc-installieren>>).

Im Folgenden wird beschrieben, wie die einzelnen Changelog-Dateien erstellt und welche Anforderungen an die Struktur und den Inhalt der Changelogs gestellt werden.

[[changelog-anlegen]]
=== Anlegen der Changelog-Dateien

Sowohl der Projektchangelog, als auch der Komponentenchangelog werden mit AsciiDoc erstellt.
Das Dateiformat ist `.adoc`.

[[komponentenchangelog-anlegen]]
==== Komponentenchangelog

Für jede Komponente und jedes AsciiDoc-Dokument (z.B. Nutzungsvorgaben) wird eine eigene AsciiDoc Datei (`changelog.adoc`) erstellt.
Bei Dokumenten wird diese Datei im gleichen Verzeichnis wie das Dokument selbst abgelegt.

.Ablageort des Komponentenchangelog für ein Dokument
[id="image-ablage_komponentenchangelog_dokument",reftext="{figure-caption} {counter:figures}"]
image::handbuch/ablage_komponentenchangelog_dokument.png[align="center",scaledwidth=60%]

Bei Komponenten wird diese Datei im root-Verzeichnis der Komponente abgelegt:

.Ablageort des Komponentenchangelog für eine Komponente
[id="image-ablage_komponentenchangelog_komponente",reftext="{figure-caption} {counter:figures}"]
image::handbuch/ablage_komponentenchangelog_komponente.png[align="center",scaledwidth=60%]

In die Datei wird die Überschrift "Changelog" eingefügt:

.Komponentenchangelog Inhalt
[id="listing-komponentenchangelog_ueberschrift",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
[[changelog]]
== Changelog
----

[[projektchangelog-anlegen]]
==== Projektchangelog

Die zentrale Projektchangelog-Datei `changelog.adoc` wird im root-Verzeichnis des Projekts abgelegt:

.Ablageort des zentralen Projektchangelogs
[id="image-ablage_projektchangelog",reftext="{figure-caption} {counter:figures}"]
image::handbuch/ablage_projektchangelog.png[align="center",scaledwidth=60%]

Initial wird die Datei ebenfalls mit der Überschrift "Changelog" befüllt:

[[struktur-changelog]]
=== Struktur der Changelog-Dateien

Der Aufbau des Projektchangelogs und der Komponentenchangelogs unterscheidet sich und wird im Folgenden erläutert.

[[struktur-komponentenchanglog]]
==== Komponentenchangelog

Der Komponentenchangelog enthält die Changelog-Einträge nach Release gruppiert.
Dazu wird für jedes Release ein eigener Release-Tag definiert:

.Erstellung Release-Tag im Komponentenchangelog
[id="listing-komponentenchangelog_release",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
// tag::release-2.1.0[]

// --> Hier werden die Changelogeinträge für Release 2.1.0 verfasst

// end::release-2.1.0[]


// tag::release-2.0.0[]

// --> Hier werden die Changelogeinträge für Release 2.0.0 verfasst

// end::release-2.0.0[]
----

Jeder Release-Tag enthält die Versionsnummer des Releases und eine entsprechende Überschrift.

Somit ergibt sich folgender Gesamtaufbau des Komponentenchangelogs:

.Gesamtstruktur Komponentenchangelog
[id="listing-komponentenchangelog_gesamt",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
[[changelog]]
== Changelog

*Änderungen IsyFact 2.1.0*

// tag::release-2.1.0[]

// --> Hier werden die Changelogeinträge für Release 2.1.0 verfasst

// end::release-2.1.0[]

*Änderungen IsyFact 2.0.0*

// tag::release-2.0.0[]

// --> Hier werden die Changelogeinträge für Release 2.0.0 verfasst

// end::release-2.0.0[]
----

Die Struktur des Kompontenchangelogs ist damit erfolgreich erstellt.

[[struktur-projektchangelog]]
==== Projektchangelog

Im Projektchangelog sollten nach Möglichkeit keine Changelog-Einträge verfasst, sondern ausschließlich die Komponentenchangelogs eingebunden werden.
Dazu wird für jedes Release ein eigener Abschnitt erstellt:

.Erstellung Release
[id="listing-projektchangelog_release",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
=== Änderungen IsyFact 2.1.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

----

Jeder Abschnitt enthält die Versionsnummer des Releases.

Unterhalb der Release Definition ist der Platz für die Beschreibung von komponentenübergreifenden Änderungen vorbehalten, die nicht einzelnen Komponenten zugeordnet werden können.
Dieses direkte Einfügen von Einträgen in das Projektchangelog sollte nur in Ausnahmefällen geschehen (siehe Kapitel <<inhalt-projektchangelog>>.

Anschließend werden die Komponentenchangelogs in das Projektchangelog eingebunden.
Dazu wird für jedes Release nur der mit dem Release getaggte Abschnitt der Komponentenchangelogs importiert:

.Einbindung der Komponentenchangelogs
[id="listing-projektchangelog_einbindung_komponentenchangelog",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
=== Änderungen IsyFact 2.1.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg/changelog.adoc[tag=release-2.1.0]
\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Glossar/changelog.adoc[tag=release-2.1.0]
...
----

Mehrere Releases werden wie folgt angelegt:

.Gesamtstruktur Projektchangelog
[id="listing-projektchangelog_einbindung_releases",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
[[changelog]]
== Changelog

=== Änderungen IsyFact 2.1.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg/changelog.adoc[tag=release-2.1.0]
\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Glossar/changelog.adoc[tag=release-2.1.0]
...

=== Änderungen IsyFact 2.0.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg/changelog.adoc[tag=release-2.0.0]
\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Glossar/changelog.adoc[tag=release-2.0.0]
...
----

[[inhalt-changlog]]
=== Inhalt der Changelog-Dateien

Diese Kapitel beschreibt die Anforderungen an den Inhalt einzelner Changelogeinträge.
Changelogs sollen den Entwicklern von IsyFact-Anwendungen Mitgrationsanleitungen liefern, um von einer älteren IsyFact Version auf eine neuere einfach und schnell wechseln zu können.
Damit der Changelog diesen Zweck erfüllt, ist es wichtig, dass sowohl die Entscheidung zur Erstellung eines Changelogeintrags, als auch der Inhalt des Eintrags mit Bedacht gewählt wird.

[[inhalt-komponentenchangelog]]
==== Komponentenchangelog

In diesen Fällen sollte *immer ein* Changelogeintrag erstellt werden:

* Sicherheitspatches
* Datenbankänderungen
* Jede Änderung, die der Entwickler und/oder Endanwender von IsyFact-Anwendungen wahrnimmt (Schnittstellenänderungen, neue Funktionen...)
* Performanceverbesserungen

In diesen Fällen sollte *kein* Changelogeintrag erstellt werden:

* Änderungen, die *nur* die Dokumentation betreffen (z.B. Rechtschreibfehler)
* Änderungen, die *nur* Entwickler der IsyFact adressieren (z.B. Refactoring, Unit-Tests)
* Fix eines Bugs, der durch eine vorherige Änderung im selben Release erzeugt wurde

Folgende Anforderungen gelten für den Inhalt eines Changelogeintrags:

* Keine Ticketnummern
* Keine Kopie der Ticketbeschreibung
* Kurz und prägnant
* Erläutert, was geändert wurde und wieso es geändert wurde
* Enthält weniger Implementierungsdetails, sondern vielmehr das Endresultat
* Enthält kurze Migrationsanleitung (falls nötig, ggfs. mit Implementierungsdetails)

*Aufbau*

Der Changelogeintrag sollte wie folgt aufgebaut sein:

. Kurze und prägnante Beschreibung der Änderung
. Migrationsanleitung von einer älteren Version der IsyFact auf die aktuelle Version


[[inhalt-projektchangelog]]
==== Projektchangelog

Der Projektchangelog kann komponentenübergreifende Changelogeinträge aufnehmen, wenn folgende Bedingungen erfüllt sind:

* Der Changelogeintrag kann nicht einer Komponente zugewiesen werden

und

* Der Changelogeintrag beschreibt eine Änderung, die eine Migrationsanleitung benötigt

An die Changelogeintrag gelten die in Kapitel <<inhalt-komponentenchangelog>> beschriebenen Anforderungen.
Komponentenübergreifende Einträge sind dem gekennzeichneten Bereich hinzuzufügen (vgl. <<listing-projektchangelog_einbindung_komponentenchangelog>>).


//fix Links in Examples

//fix Links in Examples
[[AsciiDocRecommendedPractices]]

[[glossar-halloweltbeispiel]]
// end::inhalt[]
