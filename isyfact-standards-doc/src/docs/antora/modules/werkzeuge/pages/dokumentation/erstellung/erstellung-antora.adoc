// tag::inhalt[]

[[dokuseite-anlegen]]
== Dokumentationsseite anlegen

Soll eine neue Dokumentation angelegt werden oder die bestehende Dokumentation um eine Seite erweitert werden, so muss zunÃ¤chst der geeignete Ort zur Ablage bestimmt werden.
I.d.R. ist dies das Repository, in dem sich der zu dokumentierende Baustein befindet, da die Dokumentation nah beim Code abgelegt werden soll, oder der Baustein liegt im <<verzeichnisstruktur-baustein, Repository isyfact-standards im Submodul isyfact-standards-doc>>.

[[repository-klonen]]
=== Klonen Repository

ZunÃ¤chst muss der zu dokumentierende Baustein oder `isyfact-standards` von Git heruntergeladen werden.
HierfÃ¼r muss auf der Kommandozeile auf eine geeignete Stelle der lokalen Festplatte gewechselt werden und folgendes Kommando eingegeben werden:

====
C:\tmp\> *git clone* https://github.com/IsyFact/<Repository>

z.B. C:\tmp\> *git clone* https://github.com/IsyFact/isy-baustein
====

Bei <Repository> kann es sich um einen einzelnen Baustein handeln oder um ein Repository mit zentraler Dokumentation wie isy-documentation (bis IsyFact 2.4.x) oder isyfact-standards (ab IsyFact 2.5.0).

Danach werden die Schritte durchlaufen, die in den folgenden Kapiteln beschrieben sind.

[[maven-submodul]]
=== Maven-Submodul

Als Beispiel dient das Repository isyfact-standards.
Es enthÃ¤lt ein Maven-Submodul zur Dokumentation: `isyfact-standards-doc`.
In Repositories, die noch keine Dokumentation enthalten, muss ein derartiges Submodul noch angelegt werden.

[[antora-komponente]]
=== Antora-Dokumentations-Komponente

Innerhalb des Submoduls wird der Pfad `src/docs/antora` angelegt.
Unterhalb dieses Pfades liegt die xref:glossary:glossary:master.adoc#glossar-antora-dokumentations-komponente[Antora-Dokumentations-Komponente], reprÃ¤sentiert durch die Konfigurationsdatei `antora.yml`.
In Repositories, die noch keine Antora-Komponente enthalten, muss diese Konfigurationsdatei noch angelegt werden.
Ein Repository sollte jedoch nur eine Antora-Komponente enthalten.
(Mehrere Antora-Komponenten hÃ¤tten unterschiedliche Versionierungen, die evtl. nicht mehr synchron zum Versionsstand des Repositories gehalten werden kÃ¶nnten.)

In der antora.yml-Datei wird mindestens der Name der Dokumentations-Komponente und ihre Version angegeben.
NÃ¤heres dazu in xref:glossary:literaturextern:inhalt.adoc#litextern-antora-komponente[Antora-Dokumentations-Komponente].

[[antora-modul]]
=== Antora-Modul

Im gleichen Verzeichnis wie antora.yml, `src/docs/antora`, muss das Verzeichnis `modules` liegen.
NÃ¤heres dazu siehe xref:glossary:literaturextern:inhalt.adoc#litextern-antora-verzeichnisstruktur[Antora-Verzeichnisstruktur].

In einem Antora-Modul wird die Dokumentation eines Bausteins abgelegt oder die Dokumentation einer SÃ¤ule der IsyFact.
Unterhalb des Verzeichnisses `modules` wird ein Modul-Verzeichnis mit entsprechendem Namen abgelegt, sofern noch nicht vorhanden.
FÃ¼r einen Baustein kÃ¶nnte das Antora-Modul `isy-baustein` heiÃŸen.

FÃ¼r die zentrale Dokumentation gibt es fÃ¼r jede SÃ¤ule ein Antora-Modul mit Ausnahme der Bausteine, fÃ¼r die es fÃ¼r jeden Baustein ein Antora-Modul gibt:

Allgemein;; _Antora-Modul:_ `einstieg`
Blaupausen;; _Antora-Modul:_ `blaupausen`
Bausteine;; _Antora-Modul:_ Der jeweilige Baustein, z.B. `isy-baustein` +
Methodik;; _Antora-Modul:_ `methodik`
Werkzeuge;; _Antora-Modul:_ `werkzeuge`

[[struktur-dokuseite]]
=== Dokumentationsseiten Strukturierung

Unterhalb des Modul-Verzeichnisses, z.B. `isy-baustein`, wird ein Verzeichnis mit Namen `pages` angelegt.
An diesem Ort werden die Dokumentationsseiten als .adoc abgelegt mit einem Namen, der ihren Inhalt widerspiegelt.

AuÃŸer dem Verzeichnis `pages` kann es bei Bedarf noch weitere Verzeichnisse geben wie `images` und `attachments`.
Siehe dazu ebenfalls xref:glossary:literaturextern:inhalt.adoc#litextern-antora-verzeichnisstruktur[Antora-Verzeichnisstruktur].
Unterhalb von `images` und `attachments` kann eine weitere Strukturierung erfolgen, die sich an der Struktur unter `pages` orientiert, siehe auch <<verzeichnisstruktur-baustein>>.

Wenn unter `pages` viele Dokumentationsseiten abzulegen sind, kÃ¶nnen sie noch weiter strukturiert werden, siehe auch <<verzeichnisstruktur-baustein>> und  xref:seitenvorlage.adoc#dateien-thema[Dateiablage].
FÃ¼r Bausteine wird hÃ¤ufig die Strukturierung `konzept` und `nutzungsvorgaben` gewÃ¤hlt.

Eine Dokumentationsseite enthÃ¤lt ein in sich abgeschlossenes Thema und entspricht damit in etwa einem Kapitel in konventionellen Dokumenten.

[NOTE]
====
Die IsyFact-Dokumentation wurde bisher strukturiert in die Dateien master.adoc, thisdoc.adoc, inhalt.adoc und weitere.
Diese Strukturierung wird aufgehoben zugunsten der beschriebenen inhaltsbasierten Strukturierung, die einem HTML-Layout besser gerecht wird.
Die Dokumentation in isyfact-standards-doc enthÃ¤lt noch an vielen Stellen die alte Strukturierung, wird aber sukzessive umgestellt.
Die neue Strukturierung findet sich bereits teilweise im Modul `einstieg`.
====

[[aufbau-dokuseite]]
=== Dokumentationsseite Aufbau

Zu beachten ist, dass jede Dokumentationsseite die xref:seitenvorlage.adoc#struktur-lizenzhinweis[Lizenzangabe] einbinden muss.

[[linksnavigation-antora]]
=== Navigationsdatei nav.adoc
Nach der Erstellung der Dokumentationsseiten in .adoc-Dateien muss dafÃ¼r gesorgt werden, dass sie aufrufbar sind, Ã¼blicherweise Ã¼ber die Linksnavigation von Antora.
In der Antora-Datei nav.adoc wird die Linksnavigation bzgl. einer xref:glossary:glossary:master.adoc#glossar-antora-dokumentations-komponente[Antora-Dokumentations-Komponente] festgelegt, siehe auch xref:seitenvorlage.adoc#navigation-thema[Navigationsstruktur].

Die Top-Level Linksnavigation der Antora-Komponente `IsyFact Standards` spiegelt die SÃ¤ulen der IsyFact wider.
Unter `Bausteine` befinden sich beispielsweise die Bausteine, die in `isyfact-standards` dokumentiert werden.
I.d.R. strukturiert sich die Dokumentation eines Bausteins in Konzept und Nutzungsvorgaben, was bei der Linksnavigation beibehalten wird.

Der Name des Bausteins in der Linksnavigation, z.B. "Sonderzeichen", kann nur der Strukturierung dienen, oder er kann auf eine Ãœbersichtsseite fÃ¼r den Baustein verlinken, die kurze Informationen Ã¼ber den Baustein enthÃ¤lt, z.B. die Version.

[[konfiguration-antora]]
=== Konfigurationsdateien playbook.yml und pom.xml

Die genannten Konfigurationsdateien befinden sich in einem eigenen Repository.
playbook.yml steuert die Antora-Dokumentengenerierung, z.B. welche Antora-Komponenten in welchen Repositories und Branches verwendet werden sollen fÃ¼r die Generierung der Gesamtdokumentation.

Maven sorgt mithilfe der pom.xml dafÃ¼r, dass lokal im Projekt Node.js, npm und Antora installiert werden und die Dokumentengenerierung ausgefÃ¼hrt wird.

Im Normalfall mÃ¼ssen die Antora-Konfigurationsdatei playbook.yml und die Maven-Konfigurationsdatei pom.xml nicht geÃ¤ndert werden.
Die Konfigurationsdatei playbook.yml muss jedoch geÃ¤ndert werden, wenn in einem Repository eine Dokumentation neu erstellt wird, und wenn weitere Branches zur Dokumentengenerierung herangezogen werden sollen.

Zu beachten ist, dass bei Ã„nderungen an playbook.yml und pom.xml zunÃ¤chst nur die lokale Generierung betroffen ist.
Ggf. muss die Generierung Ã¼ber die CI/CD-Pipeline ebenfalls geÃ¤ndert werden.


[[bausteindokumentation-anlegen]]
=== Beispiel Verzeichnisstruktur Bausteindokumentation


<<verzeichnisstruktur-baustein>> zeigt die Verzeichnisstruktur fÃ¼r die Dokumentation des Bausteins `isy-sonderzeichen` zusammen mit den Dateien fÃ¼r eine Dokumentationsseite.
`isy-sonderzeichen` befindet sich im Repository `isyfact-standards`.

[[verzeichnisstruktur-baustein]]
.Verzeichnisse der Bausteindokumentation
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc <1>
    ğŸ“‚ src
        ğŸ“‚ docs
            ğŸ“‚ antora
                ğŸ“„ antora.yml  <2>
                ğŸ“‚ modules     <3>
                    ğŸ“‚ isy-sonderzeichen <4>
                        ğŸ“‚ images <5>
                            ğŸ“‚ konzept <6>
                                sonderzeichen.dn.svg
                        ğŸ“‚ pages <7>
                            ğŸ“‚ konzept <8>
                                ğŸ“„ sonderzeichen.adoc    <9>
                            ğŸ“‚ nutzungsvorgaben <8>
                                ...
----
<1> Maven-Submodul fÃ¼r die Dokumentation.
<2> Antora Konfigurationsdatei fÃ¼r die Antora-Komponente.
<3> Obligatorisches Verzeichnis fÃ¼r Antora-Modul(e).
<4> Modul `isy-sonderzeichen`.
<5> Verzeichnis zur Bildablage fÃ¼r das Modul `isy-sonderzeichen`.
<6> Die Bilder kÃ¶nnen analog zur Strukturierung unter `pages` abgelegt werden.
<7> Obligatorisches Verzeichnis fÃ¼r die eigentlichen Dokumentationsseiten.
<8> Die Dokumentationsseiten kÃ¶nnen strukturiert abgelegt werden.
<9> Eigentliche Dokumentationsseite.

// end::inhalt[]
